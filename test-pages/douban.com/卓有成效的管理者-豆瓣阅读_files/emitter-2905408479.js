define("mod/emitter",["mod/lang"],function(_){function Emitter(obj){return obj?_.extend(obj,Emitter.prototype):void 0}return Emitter.prototype.on=Emitter.prototype.bind=function(e,fn){return 1===arguments.length?(_.each(e,function(fn,event){this.on(event,fn)},this),this):(this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(fn),this)},Emitter.prototype.emit=Emitter.prototype.trigger=function(e){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[e];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter});