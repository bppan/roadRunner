define("ui/apply-dialog",["jquery","mod/ajax","dui:overlay"],function($,ajax){dui.overlay,ajax=ajax||Ark.ajax;var openDialog=function(button,onDialogOpen){var href=button.data("href");ajax({url:href,type:"GET",dataType:"json"}).done(function(response){var dialog=dui.overlay();dialog.setConfig({title:response.title,content:response.html,width:button.data("width")}).render().show(),dialog.panel.addClass(button.data("class")).find("input[type=email], input[type=text], textarea").eq(0).focus(),onDialogOpen&&onDialogOpen(dialog),button.trigger("ark:dialogOpened",dialog)}).fail(function(){alert("出现了奇怪的错误，稍候再试吧。")})};return openDialog});